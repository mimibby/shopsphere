{% extends 'base.html' %}
{% load static %}
{% load humanize %}

{% block title %}Home{% endblock %}

{% block content %}

<!-- Hero Slider -->
<div class="hero-slider-container" id="heroSlider">
  {% for image in hero_images %}
    <div class="slide{% if forloop.first %} active{% endif %}">
      {% if image.image %}
        <img src="{{ image.image.url }}" alt="{{ image.title|default:'Hero Image' }}">
      {% else %}
        <img src="{% static 'images/placeholder-hero.jpg' %}" alt="No Hero Image">
      {% endif %}
    </div>
  {% empty %}
    <div class="slide active">
      <img src="{% static 'images/placeholder-hero.jpg' %}" alt="No Hero Image">
    </div>
  {% endfor %}

  <button class="slider-btn prev">❮</button>
  <button class="slider-btn next">❯</button>
</div>

<!-- Categories -->
<section class="categories">
  <h3>Shop by Category</h3>
  <div class="category-grid">
    {% for category in categories %}
      <a href="{% url 'shop:category' category.id %}" class="category-card">
        {% if category.name == "Women" %} 👗
        {% elif category.name == "Men" %} 🧥
        {% elif category.name == "Children" %} 👶
        {% elif category.name == "Bags" %} 👜
        {% elif category.name == "Jewelry" %} 💍
        {% elif category.name == "Perfumes" %} 🌸
        {% elif category.name == "Appliances" %} ⚡
        {% else %} 🛍
        {% endif %}
        {{ category.name }}
      </a>
    {% empty %}
      <p>No categories available.</p>
    {% endfor %}
  </div>
</section>

<!-- Latest Products -->
<section class="products">
  <h3>Latest Products</h3>
  <div class="product-grid">
    {% for product in products %}
      <a href="{% url 'shop:product_detail' product.id %}" class="product-card">
        {% if product.image %}
          <img src="{{ product.image.url }}" alt="{{ product.name }}">
        {% else %}
          <img src="{% static 'images/placeholder-product.jpg' %}" alt="No Image">
        {% endif %}
        <h4>{{ product.name }}</h4>
        <p>₦{{ product.price|intcomma }}</p>
      </a>
    {% empty %}
      <p>No products available.</p>
    {% endfor %}
  </div>
</section>

{% endblock %}

{% block extra_js %}
<script src="{% static 'js/script.js' %}"></script>
{% endblock %}